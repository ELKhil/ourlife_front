<section *ngIf="!messageInfo" >
    <div>
        <div class="container h-100">
            <div style="padding: 15px; margin-bottom: 50px;margin-left: auto;margin-right: auto;">
                <div style=" display: flex;justify-content: center;">
                    <div class="card" style="border-radius: 15px;">
                        <div class="card-body p-5">
                            <h2 style="font-style: italic;" class="text-uppercase text-center mb-2">Mettre à jour votre mot de passe</h2>
  
                            <form [formGroup]="fg" (ngSubmit)="submit()">

                                <!-- Champ Password -->
                                <div class="form-outline mb-2">
                                    <label class="required" for="password">Mot de passe<span class="text-danger">*</span></label>
                                    <input type="password" required id="password" class="form-control form-control-lg" formControlName="password" />
                                    <div class="text-danger" *ngIf="fg.get('password')?.errors?.['required'] && fg.get('password')?.touched">Ce champ est requis</div>
                                </div>
  
                                <!-- Champ Confirme Password -->
                                <div class="form-outline mb-2">
                                    <label class="required" for="confirmPassword">Confirme mot de passe<span class="text-danger">*</span></label>
                                    <input type="password" required id="confirmPassword" class="form-control form-control-lg" formControlName="confirmPassword"/>
                                    <div class="text-danger" *ngIf="fg.get('confirmPassword')?.errors?.['required'] && fg.get('confirmPassword')?.touched">Ce champ est requis</div>
                                    <div class="text-danger" *ngIf="fg.errors?.['notSamePassword'] && (fg.get('password')?.dirty || fg.get('confirmPassword')?.dirty)">
                                      Vos mots de passe ne sont pas identiques
                                  </div>  
                                </div>
                              
                             
  
                                <div class="d-flex justify-content-center">
                                  <button class="btn btn-success btn-block btn-lg gradient-custom-4 text-body" [disabled]="!fg.valid">Mettre à jour</button>
                                </div>
  
                            </form>
  
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
  </section>


<div *ngIf="isLoading" class="text-center my-3">
    <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
  <div class="spinner-grow" style="width: 3rem; height: 3rem;" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>


<div *ngIf="messageInfo"  class="card" style="width: 25rem;">
  <img class="card-img-top" src="assets/images/resetMdp.jpg" alt="Card image cap">
  <div class="card-body">
    <p class="card-text">{{messageInfo}}</p>
  </div>
</div>