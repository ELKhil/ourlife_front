

<section *ngIf="!messageInfo">
  <div>
      <div class="container h-100">
          <div style="padding: 15px; margin-bottom: 50px;margin-left: auto;margin-right: auto;">
              <div style=" display: flex;justify-content: center;">
                  <div class="card" style="border-radius: 15px;">
                      <div class="card-body p-5">
                          <h2 style="font-style: italic;" class="text-uppercase text-center mb-2">Créer un compte</h2>

                          <form [formGroup]="fg" (ngSubmit)="submit()">

                              <!-- Champ Firstname -->
                              <div class="form-outline mb-2">
                                  <label class="required" for="firstname">Prénom<span class="text-danger">*</span></label>
                                  <input type="text" id="firstname" class="form-control form-control-lg" formControlName="firstname" />
                                  <div class="text-danger" *ngIf="fg.get('firstname')?.errors?.['required'] && fg.get('firstname')?.touched">Ce champ est requis</div>
                              </div>

                              <!-- Champ Lastname -->
                              <div class="form-outline mb-2">
                                  <label class="required" for="lastname">Nom<span class="text-danger">*</span></label>
                                  <input type="text" id="lastname" class="form-control form-control-lg" formControlName="lastname" />
                                  <div class="text-danger" *ngIf="fg.get('lastname')?.errors?.['required'] && fg.get('lastname')?.touched">Ce champ est requis</div>
                              </div>

                              <!-- Champ Email -->
                              <div class="form-outline mb-2">
                                  <label class="required" for="email">Email<span class="text-danger">*</span></label>
                                  <input type="email" required id="email" class="form-control form-control-lg" formControlName="email" />
                                  <div class="text-danger" *ngIf="fg.get('email')?.errors?.['required'] && fg.get('email')?.dirty">Ce champ est requis</div>

                                 
                                
                                
                              </div>

                              <!-- Champ Confirme Email -->
                              <div class="form-outline mb-2">
                                  <label class="required" for="confirmEmail">Confirme Email<span class="text-danger">*</span></label>
                                  <input type="email" required id="confirmEmail" class="form-control form-control-lg" formControlName="confirmEmail" />
                                  <div class="text-danger" *ngIf="fg.get('confirmEmail')?.errors?.['required'] && fg.get('confirmEmail')?.touched">Ce champ est requis</div>
                                  <div class="text-danger" *ngIf="fg.get('email')?.errors?.['required'] && fg.get('email')?.dirty">Ce champ est requis</div>
                                  <div class="text-danger" *ngIf="fg.errors?.['emailsNotMatching'] && (fg.get('email')?.dirty || fg.get('confirmEmail')?.dirty)">
                                    Vos emails ne sont pas identiques
                                  </div>
                              </div>

                              <!-- Champ Password -->
                              <div class="form-outline mb-2">
                                  <label class="required" for="password">Mot de passe<span class="text-danger">*</span></label>
                                  <input type="password" required id="password" class="form-control form-control-lg" formControlName="password" />
                                  <div class="text-danger" *ngIf="fg.get('password')?.errors?.['required'] && fg.get('password')?.touched">Ce champ est requis</div>
                              </div>

                              <!-- Champ Confirme Password -->
                              <div class="form-outline mb-2">
                                  <label class="required" for="confirmPassword">Confirme mot de passe<span class="text-danger">*</span></label>
                                  <input type="password" required id="confirmPassword" class="form-control form-control-lg" formControlName="confirmPassword"/>
                                  <div class="text-danger" *ngIf="fg.get('confirmPassword')?.errors?.['required'] && fg.get('confirmPassword')?.touched">Ce champ est requis</div>
                                  <div class="text-danger" *ngIf="fg.errors?.['notSamePassword'] && (fg.get('password')?.dirty || fg.get('confirmPassword')?.dirty)">
                                    Vos mots de passe ne sont pas identiques
                                </div>
                                
                                
                              </div>

                              <!-- Champ ImageProfil -->
                              <div class="form-outline mb-3">
                                  <label class="required" for="imageProfil">Photo de profil<span class="text-danger">*</span></label>
                                  <input type="file" required id="imageProfil" (click)="onClick()" (change)="onChange($event)" class="form-control form-control-lg"/>
                                  <div class="text-danger" *ngIf="fg.get('imageProfil')?.errors?.['required'] && inputClicked">Le champ est requis</div>
                                  <div class="text-danger" *ngIf="fg.get('imageProfil')?.errors?.['imageBig']">L'image est très grande</div>
                                  <div class="text-danger" *ngIf="fg.get('imageProfil')?.errors?.['invalidMimeType']">Le type d'image n'est pas valide</div>
                              </div>

                              <div class="d-flex justify-content-center">
                                <button class="btn btn-success btn-block btn-lg gradient-custom-4 text-body" [disabled]="!fg.valid">S'enregistrer</button>
                              </div>

                          </form>

                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
  
</section>

<div *ngIf="messageInfo" classe="messageInfo">
        <p>{{messageInfo}}</p>
</div>

